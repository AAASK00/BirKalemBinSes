<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Bir Kalem Bin Ses</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{
margin:0;
min-height:100vh;
background:#000;
color:#fff;
overflow-x:hidden;
}

.hidden{display:none}

#hero{
position:relative;
height:100vh;
background:
linear-gradient(rgba(0,0,0,.55),rgba(0,0,0,.75)),
url("https://www.ithakiyayingrubu.com/dosyalar/2022/02/Sabahattin-Ali.jpg");
background-size:cover;
background-position:center;
display:flex;
align-items:center;
justify-content:center;
text-align:center;
}

#hero h1{
font-size:60px;
margin-bottom:30px;
text-shadow:0 0 20px black;
}

button{
padding:14px 30px;
margin:10px;
font-size:18px;
border:none;
border-radius:12px;
cursor:pointer;
background:#ff9800;
color:#000;
font-weight:bold;
transition:.3s;
}
button:hover{transform:scale(1.08)}

section{
padding:40px;
min-height:100vh;
background:linear-gradient(135deg,#1c1c1c,#2c2c2c);
}

input{
padding:12px;
font-size:18px;
border-radius:8px;
border:none;
width:260px;
}

#musicPanel{
position:fixed;
bottom:15px;
right:15px;
background:rgba(0,0,0,.7);
padding:10px;
border-radius:14px;
z-index:99;
}

#quizBox{
max-width:600px;
margin:auto;
background:rgba(0,0,0,.5);
padding:25px;
border-radius:20px;
}

.choice{
background:#2196f3;
padding:14px;
margin:10px;
border-radius:10px;
cursor:pointer;
}
.choice:hover{background:#1976d2}

#timer{font-size:22px;margin-bottom:10px}

#scoreBig{
font-size:70px;
color:#4caf50;
margin:20px 0;
}

table{
margin:auto;
border-collapse:collapse;
}
td,th{
border:1px solid #fff;
padding:10px 20px;
}
</style>
</head>

<body>

<audio id="bgMusic" loop autoplay>
  <source src="AldÄ±rma GÃ¶nÃ¼l Yan FlÃ¼t - Piyano.mp3" type="audio/mpeg">
</audio>

<div id="musicPanel">
<button onclick="toggleMusic()">ğŸµ</button><br>
<input type="range" min="0" max="1" step="0.01" value="0.5" onchange="bgMusic.volume=this.value">
</div>

<!-- ANA SAYFA -->
<div id="hero">
<div>
<h1>HoÅŸgeldiniz</h1>
<button onclick="openPDF()">ğŸ“„ Sunum</button>
<button onclick="showName()">ğŸ¯ YarÄ±ÅŸma</button>
<button onclick="showScores()">ğŸ† Skor Tablosu</button><br>
<button onclick="adminLogin()">ğŸ” YÃ¶netici</button>
</div>
</div>

<!-- Ä°SÄ°M -->
<section id="namePage" class="hidden">
<h2>Ä°sminizi Girin</h2>
<input id="playerName" placeholder="Ad Soyad"><br><br>
<button onclick="startQuiz()">BaÅŸla</button>
</section>

<!-- QUIZ -->
<section id="quizPage" class="hidden">
<div id="quizBox">
<div id="timer"></div>
<h2 id="question"></h2>
<div id="choices"></div>
</div>
</section>

<!-- BÄ°TÄ°Å -->
<section id="finishPage" class="hidden">
<h1>Tebrikler <span id="winner"></span>!</h1>
<div id="scoreBig"></div>
<button onclick="goHome()">Tekrar Oyna</button>
</section>

<!-- SKOR -->
<section id="scorePage" class="hidden">
<h2>Skor Tablosu</h2>
<table id="scoreTable"></table><br>
<button onclick="goHome()">Ana Sayfa</button>
</section>

<!-- ADMÄ°N -->
<section id="adminPage" class="hidden">
<h2>YÃ¶netici Paneli</h2>
<button onclick="clearScores()">SkorlarÄ± SÄ±fÄ±rla</button><br><br>
<button onclick="goHome()">Ana Sayfa</button>
</section>

<script>
const bgMusic=document.getElementById("bgMusic");
bgMusic.volume=0.5;

function toggleMusic(){bgMusic.paused?bgMusic.play():bgMusic.pause()}

function openPDF(){window.open("Sabahattin-Ali-Kimdir.pdf")}

function hideAll(){
["hero","namePage","quizPage","finishPage","scorePage","adminPage"].forEach(id=>{
document.getElementById(id).classList.add("hidden");
});
}

function showName(){hideAll();document.getElementById("namePage").classList.remove("hidden")}

let questions=[
{q:"Sabahattin Ali nerelidir?",c:["Edirne","GÃ¼mÃ¼lcine","Ä°stanbul","Konya"],a:1},
{q:"KÃ¼rk Mantolu Madonna tÃ¼rÃ¼ nedir?",c:["Åiir","Roman","Masal","Deneme"],a:1}
];

let index=0,score=0,time=40,interval,player="";
let scores=JSON.parse(localStorage.getItem("scores")||"[]");

function startQuiz(){
player=document.getElementById("playerName").value;
if(!player)return alert("Ä°sim giriniz");
index=0;score=0;
hideAll();document.getElementById("quizPage").classList.remove("hidden");
nextQ();
}

function nextQ(){
if(index>=questions.length)return finish();
let q=questions[index];
document.getElementById("question").innerText=q.q;
let c=document.getElementById("choices");c.innerHTML="";
q.c.forEach((x,i)=>{
let d=document.createElement("div");
d.className="choice";d.innerText=x;
d.onclick=()=>{if(i===q.a)score+=10;index++;nextQ()}
c.appendChild(d);
});
time=40;
document.getElementById("timer").innerText="â± "+time;
clearInterval(interval);
interval=setInterval(()=>{
time--;
document.getElementById("timer").innerText="â± "+time;
if(time<=0){clearInterval(interval);index++;nextQ()}
},1000);
}

function finish(){
clearInterval(interval);
scores.push({name:player,score});
localStorage.setItem("scores",JSON.stringify(scores));
document.getElementById("winner").innerText=player;
document.getElementById("scoreBig").innerText=score;
hideAll();document.getElementById("finishPage").classList.remove("hidden");
}

function showScores(){
let t=document.getElementById("scoreTable");
t.innerHTML="<tr><th>Ä°sim</th><th>Puan</th></tr>";
scores.forEach(s=>t.innerHTML+=`<tr><td>${s.name}</td><td>${s.score}</td></tr>`);
hideAll();document.getElementById("scorePage").classList.remove("hidden");
}

function adminLogin(){
let p=prompt("Åifre:");
if(p==="0655"){hideAll();document.getElementById("adminPage").classList.remove("hidden")}
else alert("HatalÄ± ÅŸifre");
}

function clearScores(){
if(confirm("Skorlar silinsin mi?")){
scores=[];
localStorage.removeItem("scores");
alert("SÄ±fÄ±rlandÄ±");
}
}

function goHome(){hideAll();document.getElementById("hero").classList.remove("hidden")}
</script>

</body>
</html>
