<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Okul Projesi</title>

  <!-- GOOGLE FONT -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Poppins', sans-serif;
      background: #0f172a;
      color: white;
      overflow-x: hidden;
    }

    /* HERO */
    .hero {
      min-height: 100vh;
      background: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.85)),
      url('https://www.ithakiyayingrubu.com/dosyalar/2022/02/Sabahattin-Ali.jpg') center/cover no-repeat;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 20px;
    }

    .hero-box {
      background: rgba(15,23,42,0.75);
      padding: 40px 30px;
      border-radius: 20px;
      box-shadow: 0 25px 60px rgba(0,0,0,0.5);
      max-width: 420px;
      width: 100%;
    }

    .hero-box h1 {
      font-size: 42px;
      margin-bottom: 30px;
    }

    .btn {
      display: block;
      width: 100%;
      padding: 15px;
      margin: 15px 0;
      font-size: 18px;
      font-weight: 600;
      border-radius: 14px;
      border: none;
      cursor: pointer;
      transition: all .3s ease;
    }

    .btn-primary { background: #22c55e; color: #052e16; }
    .btn-primary:hover { transform: scale(1.05); }

    .btn-secondary { background: #38bdf8; color: #082f49; }
    .btn-secondary:hover { transform: scale(1.05); }

    .btn-warning { background: #facc15; color: #422006; }
    .btn-warning:hover { transform: scale(1.05); }

    .hidden { display: none; }

    /* CONTENT */
    .page {
      min-height: 100vh;
      padding: 40px 20px;
      background: radial-gradient(circle at top, #1e293b, #020617);
      text-align: center;
    }

    input {
      width: 90%;
      max-width: 350px;
      padding: 14px;
      font-size: 16px;
      border-radius: 12px;
      border: none;
      margin-bottom: 20px;
    }

    .question-box {
      background: #020617;
      padding: 25px;
      border-radius: 20px;
      max-width: 600px;
      margin: auto;
      box-shadow: 0 20px 40px rgba(0,0,0,.5);
    }

    .answer {
      background: #1e293b;
      padding: 15px;
      margin: 12px 0;
      border-radius: 14px;
      cursor: pointer;
      transition: .3s;
    }
    .answer:hover { background: #334155; transform: scale(1.03); }

    .correct { background: #22c55e !important; color: #052e16; }
    .wrong { background: #ef4444 !important; }

    /* CONFETTI */
    canvas {
      position: fixed;
      top: 0; left: 0;
      pointer-events: none;
    }

    /* ADMIN */
    .admin {
      background: #020617;
      padding: 30px;
      border-radius: 20px;
      max-width: 700px;
      margin: auto;
    }

    textarea {
      width: 100%;
      height: 150px;
      border-radius: 12px;
      padding: 12px;
    }
  </style>
</head>
<body>

<audio id="bgMusic" src="Aldƒ±rma G√∂n√ºl  Yan Fl√ºt - Piyano.mp3" loop></audio>

<!-- HERO -->
<section class="hero" id="home">
  <div class="hero-box">
    <h1>Ho≈ü Geldiniz</h1>
    <button class="btn btn-primary" onclick="openPresentation()">üìë Sunumu A√ß</button>
    <button class="btn btn-secondary" onclick="showName()">üèÜ Bilgi Yarƒ±≈ümasƒ±</button>
    <button class="btn btn-warning" onclick="showScores()">üìä Skor Tablosu</button>
  </div>
</section>

<!-- NAME -->
<section class="page hidden" id="namePage">
  <h2>ƒ∞sminizi Girin</h2><br>
  <input id="playerName" placeholder="ƒ∞sim Soyisim">
  <button class="btn btn-primary" onclick="startQuiz()">Ba≈üla</button>
</section>

<!-- QUIZ -->
<section class="page hidden" id="quizPage">
  <div class="question-box">
    <h3 id="question"></h3>
    <div id="answers"></div>
    <p id="timer"></p>
  </div>
</section>

<!-- RESULT -->
<section class="page hidden" id="resultPage">
  <h1 id="resultText"></h1>
  <h2 id="scoreText"></h2><br>
  <button class="btn btn-primary" onclick="restart()">Tekrar Oyna</button>
</section>

<!-- SCOREBOARD -->
<section class="page hidden" id="scorePage">
  <h2>Skor Tablosu</h2><br>
  <div id="scoreList"></div><br>
  <button class="btn btn-secondary" onclick="goHome()">Ana Sayfa</button>
</section>

<!-- ADMIN -->
<section class="page hidden" id="adminPage">
  <div class="admin">
    <h2>Y√∂netici Paneli</h2><br>
    <textarea id="questionJSON"></textarea><br><br>
    <button class="btn btn-primary" onclick="saveQuestions()">Sorularƒ± Kaydet</button>
    <button class="btn btn-warning" onclick="resetScores()">Skorlarƒ± Sƒ±fƒ±rla</button>
    <button class="btn btn-secondary" onclick="goHome()">Ana Sayfa</button>
  </div>
</section>

<canvas id="confetti"></canvas>

<script>
const music = document.getElementById('bgMusic');
let player = '';
let index = 0;
let score = 0;
let time = 40;
let timer;

let questions = JSON.parse(localStorage.getItem('questions')) || [
  {q:'Sabahattin Ali hangi t√ºrde eserler yazmƒ±≈ütƒ±r?',a:['Roman','≈ûiir','Hik√¢ye','Hepsi'],c:3},
  {q:'K√ºrk Mantolu Madonna bir?',a:['≈ûiir','Roman','Oyun','Deneme'],c:1},
  {q:'Sabahattin Ali nerelidir?',a:['Edirne','G√ºm√ºlcine','ƒ∞stanbul','Ankara'],c:1}
];

function show(id){ document.querySelectorAll('.page, .hero').forEach(e=>e.classList.add('hidden')); document.getElementById(id).classList.remove('hidden'); }

function showName(){ show('namePage'); music.play(); }
function startQuiz(){ player=document.getElementById('playerName').value; if(!player) return alert('ƒ∞sim giriniz'); index=0; score=0; show('quizPage'); loadQ(); }

function loadQ(){ if(index>=questions.length) return finish(); let q=questions[index]; document.getElementById('question').innerText=q.q; let html=''; q.a.forEach((x,i)=> html+=`<div class='answer' onclick='answer(${i})'>${x}</div>`); document.getElementById('answers').innerHTML=html; time=40; clearInterval(timer); timer=setInterval(()=>{ time--; document.getElementById('timer').innerText='S√ºre: '+time; if(time<=0) answer(-1); },1000); }

function answer(i){ clearInterval(timer); document.querySelectorAll('.answer').forEach((e,idx)=>{ e.classList.add(idx===questions[index].c?'correct':'wrong'); }); if(i===questions[index].c) score++; setTimeout(()=>{ index++; loadQ(); },800); }

function finish(){ let scores=JSON.parse(localStorage.getItem('scores'))||[]; scores.push({name:player,score}); localStorage.setItem('scores',JSON.stringify(scores)); show('resultPage'); document.getElementById('resultText').innerText='Tebrikler '+player+'!'; document.getElementById('scoreText').innerText='Puan: '+score; confetti(); }

function restart(){ show('home'); }
function goHome(){ show('home'); }

function showScores(){ show('scorePage'); let s=JSON.parse(localStorage.getItem('scores'))||[]; document.getElementById('scoreList').innerHTML=s.map(x=>`<p>${x.name} - ${x.score}</p>`).join(''); }

function openPresentation(){ window.open('Sabahattin-Ali-Kimdir.pdf'); }

function saveQuestions(){ try{ let q=JSON.parse(document.getElementById('questionJSON').value); localStorage.setItem('questions',JSON.stringify(q)); alert('Kaydedildi'); }catch{ alert('JSON Hatalƒ±'); } }

function resetScores(){ localStorage.removeItem('scores'); alert('Sƒ±fƒ±rlandƒ±'); }

function confetti(){ const c=document.getElementById('confetti'); const ctx=c.getContext('2d'); c.width=innerWidth; c.height=innerHeight; let pieces=Array.from({length:150},()=>({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*6+4,dy:Math.random()*3+2})); let anim=setInterval(()=>{ ctx.clearRect(0,0,c.width,c.height); pieces.forEach(p=>{ ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle='hsl('+Math.random()*360+',80%,60%)'; ctx.fill(); p.y+=p.dy; if(p.y>c.height) p.y=0; }); },30); setTimeout(()=>clearInterval(anim),4000); }

// ADMIN LOGIN
window.addEventListener('keydown',e=>{ if(e.key==='Enter' && prompt('Y√∂netici ≈ûifre')==='0655'){ show('adminPage'); document.getElementById('questionJSON').value=JSON.stringify(questions,null,2); } });
</script>
</body>
</html>
