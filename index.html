<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Okul Projesi â€“ Bilgi YarÄ±ÅŸmasÄ±</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #0f172a;
      color: #fff;
      text-align: center;
    }
    button {
      cursor: pointer;
      border: none;
      border-radius: 12px;
      padding: 14px 28px;
      font-size: 18px;
      transition: 0.3s;
    }
    button:hover { transform: scale(1.05); }

    /* HERO */
    .hero {
      height: 100vh;
      background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)),
      url('https://www.ithakiyayingrubu.com/dosyalar/2022/02/Sabahattin-Ali.jpg') center/cover no-repeat;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    .hero h1 { font-size: 56px; margin-bottom: 10px; }
    .hero p { font-size: 22px; margin-bottom: 30px; }

    .input {
      padding: 14px;
      border-radius: 10px;
      border: none;
      font-size: 18px;
      width: 260px;
      margin-bottom: 20px;
    }

    /* MENU */
    .menu { display: none; padding: 60px; }
    .menu button { margin: 15px; background: #22c55e; color: #022c22; }

    /* QUIZ */
    #quiz { display: none; padding: 30px; }
    .answers button {
      display: block;
      width: 90%;
      max-width: 500px;
      margin: 12px auto;
      background: #1e293b;
      color: #fff;
    }
    #timer { font-size: 22px; margin: 15px; }

    /* ADMIN */
    #admin-login {
      position: fixed;
      bottom: 20px;
      left: 20px;
    }
    #admin-panel {
      display: none;
      background: #020617;
      padding: 30px;
      min-height: 100vh;
    }
    #admin-panel h2 { margin-top: 0; }
    textarea, select { width: 90%; padding: 10px; border-radius: 8px; }
    .question-item { background:#020617; border:1px solid #334155; margin:10px auto; padding:10px; width:90%; border-radius:10px; }

    /* CONFETTI */
    .confetti { font-size: 40px; animation: fall 2s linear infinite; }
    @keyframes fall { from{transform:translateY(-100px);} to{transform:translateY(600px);} }
  </style>
</head>
<body>

<!-- MUSIC -->
<iframe id="bgm" width="0" height="0" src="https://www.youtube.com/embed/Fcd9O5jLRB8?autoplay=1&loop=1&playlist=Fcd9O5jLRB8" allow="autoplay"></iframe>
<button onclick="toggleMusic()" style="position:fixed;top:20px;right:20px;">MÃ¼zik</button>

<!-- HERO -->
<div class="hero" id="hero">
  <h1>Bilgi YarÄ±ÅŸmasÄ±</h1>
  <p>Okul Projesi â€“ Profesyonel Sunum</p>
  <input id="playerName" class="input" placeholder="Ä°sim Soyisim">
  <button onclick="enterSite()">GiriÅŸ Yap</button>
</div>

<!-- MENU -->
<div class="menu" id="menu">
  <h2>HoÅŸ geldin <span id="playerLabel"></span></h2>
  <button onclick="startQuiz()">Bilgi YarÄ±ÅŸmasÄ±</button>
  <button onclick="openPresentation()">Sunumu AÃ§</button>
</div>

<!-- QUIZ -->
<div id="quiz">
  <h2 id="question"></h2>
  <div id="timer"></div>
  <div class="answers" id="answers"></div>
</div>

<!-- ADMIN LOGIN -->
<div id="admin-login">
  <input id="admin-pass" type="password" class="input" placeholder="YÃ¶netici Åžifresi">
  <button onclick="adminLogin()">Admin</button>
</div>

<!-- ADMIN PANEL -->
<div id="admin-panel">
  <h2>YÃ¶netim Paneli</h2>
  <button onclick="goHome()">Ana Sayfaya DÃ¶n</button>

  <h3>Soru Ekle</h3>
  <input id="q" class="input" placeholder="Soru"><br>
  <input id="a1" class="input" placeholder="A"><br>
  <input id="a2" class="input" placeholder="B"><br>
  <input id="a3" class="input" placeholder="C"><br>
  <input id="a4" class="input" placeholder="D"><br>
  <input id="correct" class="input" placeholder="DoÄŸru (0-3)"><br>
  <button onclick="addQuestion()">Ekle</button>

  <h3>Sorular</h3>
  <div id="questionList"></div>
</div>

<script>
let adminPassword = '0655';
let player = '';
let time = 40;
let timer;
let current = 0;
let score = 0;

let questions = JSON.parse(localStorage.getItem('questions')) || [
  {q:'TÃ¼rkiye\'nin baÅŸkenti neresidir?', a:['Ä°stanbul','Ankara','Ä°zmir','Bursa'], c:1},
  {q:'En bÃ¼yÃ¼k gezegen?', a:['Mars','VenÃ¼s','JÃ¼piter','SatÃ¼rn'], c:2}
];

function toggleMusic(){ const bgm=document.getElementById('bgm'); bgm.src=bgm.src.includes('autoplay')?'':'https://www.youtube.com/embed/Fcd9O5jLRB8?autoplay=1&loop=1&playlist=Fcd9O5jLRB8'; }

function enterSite(){
  const name=document.getElementById('playerName').value;
  if(!name) return alert('Ä°sim giriniz');
  player=name;
  document.getElementById('playerLabel').innerText=player;
  hero.style.display='none'; menu.style.display='block';
}

function startQuiz(){ menu.style.display='none'; quiz.style.display='block'; current=0; score=0; loadQuestion(); }

function loadQuestion(){
  if(current>=questions.length){
    quiz.innerHTML=`<h2>Tebrikler ${player}</h2><p>Puan: ${score}</p><div class='confetti'>ðŸŽ‰ðŸŽ‰ðŸŽ‰</div>`; return;
  }
  let q=questions[current];
  question.innerText=q.q;
  answers.innerHTML='';
  q.a.forEach((x,i)=>{
    let b=document.createElement('button'); b.innerText=x;
    b.onclick=()=>answer(i);
    answers.appendChild(b);
  });
  time=40; timer&&clearInterval(timer);
  timer=setInterval(()=>{ timerEl.innerText='SÃ¼re: '+time; if(--time<0) answer(-1); },1000);
}

function answer(i){ clearInterval(timer); if(i===questions[current].c) score++; current++; loadQuestion(); }

function adminLogin(){
  if(adminPass.value===adminPassword){ adminLoginBox.style.display='none'; adminPanel.style.display='block'; renderQuestions(); }
  else alert('Åžifre yanlÄ±ÅŸ');
}

function addQuestion(){
  questions.push({q:q.value,a:[a1.value,a2.value,a3.value,a4.value],c:parseInt(correct.value)});
  localStorage.setItem('questions',JSON.stringify(questions));
  renderQuestions();
}

function renderQuestions(){
  questionList.innerHTML='';
  questions.forEach((x,i)=>{
    let d=document.createElement('div'); d.className='question-item';
    d.innerHTML=`${x.q}<br><button onclick='deleteQuestion(${i})'>Sil</button>`;
    questionList.appendChild(d);
  });
}

function deleteQuestion(i){ questions.splice(i,1); localStorage.setItem('questions',JSON.stringify(questions)); renderQuestions(); }
function goHome(){ adminPanel.style.display='none'; hero.style.display='flex'; adminLoginBox.style.display='block'; }

const hero=document.getElementById('hero');
const menu=document.getElementById('menu');
const quiz=document.getElementById('quiz');
const question=document.getElementById('question');
const answers=document.getElementById('answers');
const timerEl=document.getElementById('timer');
const adminLoginBox=document.getElementById('admin-login');
const adminPanel=document.getElementById('admin-panel');
const adminPass=document.getElementById('admin-pass');
const questionList=document.getElementById('questionList');
</script>
</body>
</html>
